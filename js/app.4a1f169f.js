(function(){"use strict";var t={8226:function(t,e,n){var r=n(144),o=n(998),a=n(6190),s=n(2118),i=n(8271),u=n(4324),l=n(5808),c=n(4525),f=n(8279),d=n(4611),h=n(3059),p=n(7233),m=function(){var t=this,e=t._self._c;return e(o.Z,{attrs:{id:"app"}},[t.isAuthenticated?e(p.Z,{staticClass:"light-blue lighten-5",attrs:{permanent:"",app:""}},[e("h1",{staticClass:"mt-5 text-h5 font-weight-bold"},[t._v("Concessionária")]),e(l.Z,{staticClass:"mt-5",attrs:{nav:"",flat:""}},t._l(t.links,(function(n){return e(c.Z,{key:n.title,staticClass:"text-h6",attrs:{link:""},on:{click:function(e){return t.$router.push(n.route)}}},[e(d.Z,[e(u.Z,[t._v(t._s(n.icon))])],1),e(f.km,[e(f.V9,[t._v(t._s(n.title))])],1)],1)})),1),e(a.Z,{attrs:{color:"error"},on:{click:t.handleLogout}},[t._v("Sair")])],1):t._e(),e(h.Z,[e(s.Z,{attrs:{fluid:""}},[e("router-view")],1)],1),e(i.Z,{staticClass:"light-blue lighten-5 text-white py-3",attrs:{app:""}},[e("h4",{staticClass:"mx-auto text-center"},[t._v(" © Concessionária 2022 - Todos Direitos Reservados ")])])],1)},v=[],g=n(629),y={data(){return{links:[{title:"Home",icon:"mdi-home",route:"/"},{title:"Veículos",icon:"mdi-car",route:"/vehicles"},{title:"Vendas",icon:"mdi-basket",route:"/sales"},{title:"Vendedores",icon:"mdi-account",route:"/sellers"}]}},computed:{...(0,g.Se)(["isAuthenticated"])},methods:{...(0,g.nv)(["Logout"]),handleLogout(){this.Logout(),this.$router.push("/login")}}},b=y,w=n(1001),Z=(0,w.Z)(b,m,v,!1,null,null,null),_=Z.exports,k=n(1705);r.ZP.use(k.Z);var x=new k.Z({}),C=n(4702),A=n(1006);const E={token:null},O={isAuthenticated:t=>null!=t.token},L={async Login({commit:t},{email:e,password:n}){console.log("here2");const r=await(0,A.x4)({email:e,password:n});t("login",r)},async Logout({commit:t}){t("logout")}},P={login(t,e){t.token=e},logout(t){t.token=null}};var S={state:E,getters:O,actions:L,mutations:P};r.ZP.use(g.ZP);var j=new g.ZP.Store({modules:{auth:S},plugins:[(0,C.Z)()]}),V=n(8345),q=n(9582),T=n(4886),$=n(266),B=n(1713),N=function(){var t=this,e=t._self._c;return e("main",[e("h2",[t._v("Home")]),e(s.Z,[e(B.Z,[e($.Z,[e(q.Z,{attrs:{elevation:"2"}},[e(T.EB,[t._v("Veículos")]),e(T.Qq,{staticClass:"text-h3 primary--text"},[t._v(" "+t._s(t.vehicles)+" ")]),e(T.h7,[e(a.Z,{attrs:{color:"primary",text:""},on:{click:function(e){return t.$router.push("/vehicles")}}},[t._v("Ver Mais")])],1)],1)],1),e($.Z,[e(q.Z,{attrs:{elevation:"2"}},[e(T.EB,[t._v("Vendas")]),e(T.Qq,{staticClass:"text-h3 success--text"},[t._v(" "+t._s(t.sales)+" ")]),e(T.h7,[e(a.Z,{attrs:{color:"success",text:""},on:{click:function(e){return t.$router.push("/sales")}}},[t._v("Ver mais")])],1)],1)],1),e($.Z,[e(q.Z,{attrs:{elevation:"2"}},[e(T.EB,[t._v("Vendedores")]),e(T.Qq,{staticClass:"text-h3 info--text"},[t._v(" "+t._s(t.sellers)+" ")]),e(T.h7,[e(a.Z,{attrs:{color:"info",text:""},on:{click:function(e){return t.$router.push("/sellers")}}},[t._v("Ver mais")])],1)],1)],1)],1)],1)],1)},D=[],F={name:"HomeView",data(){return{vehicles:0,sales:0,sellers:0}},async created(){try{const t=await(0,A.OE)();this.vehicles=t.vehicles,this.sales=t.sales,this.sellers=t.sellers}catch(t){alert(t)}}},H=F,M=(0,w.Z)(H,N,D,!1,null,null,null),Q=M.exports,I=n(5125),R=n(7808),U=function(){var t=this,e=t._self._c;return e("main",[e("h1",[t._v("Concessionária")]),e(I.Z,{staticClass:"mt-10",on:{submit:t.handleSubmit}},[e(s.Z,[e(B.Z,{attrs:{justify:"center"}},[e($.Z,{attrs:{sm:"12",md:"6",lg:"4"}},[e(R.Z,{attrs:{type:"email",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(R.Z,{attrs:{type:"password",label:"Senha"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(a.Z,{attrs:{type:"submit",color:"primary"}},[t._v("Login")])],1)],1)],1)],1)],1)},z=[],J={name:"LoginView",data(){return{email:"",password:""}},methods:{...(0,g.nv)(["Login"]),async handleSubmit(t){t.preventDefault();try{await this.$store.dispatch("Login",{email:this.email,password:this.password}),this.$router.push("/")}catch(e){alert(e)}}}},K=J,W=(0,w.Z)(K,U,z,!1,null,null,null),X=W.exports;r.ZP.use(V.ZP);const G=[{path:"/login",name:"Login",component:X},{path:"/",name:"home",component:Q,meta:{requiresAuth:!0}},{path:"/vehicles",name:"vehicles",component:()=>n.e(443).then(n.bind(n,8853)),meta:{requiresAuth:!0}},{path:"/sellers",name:"sellers",component:()=>n.e(443).then(n.bind(n,6666)),meta:{requiresAuth:!0}},{path:"/sales",name:"sales",component:()=>n.e(443).then(n.bind(n,5957)),meta:{requiresAuth:!0}}],Y=new V.ZP({mode:"history",base:"/",routes:G});Y.beforeEach(((t,e,n)=>{if(t.matched.some((t=>t.meta.requiresAuth))){if(j.getters.isAuthenticated)return void n();n("/login")}else n()}));var tt=Y;r.ZP.config.productionTip=!1,new r.ZP({store:j,vuetify:x,router:tt,render:t=>t(_)}).$mount("#app")},1006:function(t,e,n){n.d(e,{Bl:function(){return d},OE:function(){return s},VC:function(){return f},Wg:function(){return u},X8:function(){return h},qT:function(){return p},rE:function(){return i},w8:function(){return c},x4:function(){return m},yw:function(){return l}});var r=n(9669),o=n.n(r);const a="https://car-dealership-pweb.herokuapp.com";async function s(){let t=await Promise.all([o().get("/cars"),o().get("/sales"),o().get("/sellers")]);return t=t.map((t=>t.data)),{vehicles:t[0].length,sales:t[1].length,sellers:t[2].length}}async function i(){const t=await o().get("/cars");return t.data}async function u(t){const e=await o().post("/cars",t);return e.data}async function l(t){await o().put(`/cars/${t.id}`,t)}async function c(){const t=await o().get("/sellers");return t.data}async function f(t){const e=await o().post("/sellers",t);return e.data}async function d(t){await o().put(`/sellers/${t.id}`,t)}async function h(){const t=await o().get("/sales");return t.data}async function p(t){const e=await o().post("/sales",t);return e.data}async function m({email:t,password:e}){const n=await o().post("/auth/login",{email:t,password:e});return n.data.token}o().defaults.baseURL=a,o().interceptors.request.use((t=>{try{const e=localStorage.getItem("vuex"),n=JSON.parse(e).auth.token;t.headers["Authorization"]=`Bearer ${n}`}catch(e){console.error(e)}return t}))}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],o=t[c][1],a=t[c][2];for(var i=!0,u=0;u<r.length;u++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[u])}))?r.splice(u--,1):(i=!1,a<s&&(s=a));if(i){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/about.e813e88b.js"}}(),function(){n.miniCssF=function(t){return"css/about.0b1cb333.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="car-dealership-frontend:";n.l=function(r,o,a,s){if(t[r])t[r].push(o);else{var i,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==e+a){i=f;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",e+a),i.src=r),t[r]=[o];var d=function(e,n){i.onerror=i.onload=null,clearTimeout(h);var o=t[r];if(delete t[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t=function(t,e,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=function(a){if(o.onerror=o.onload=null,"load"===a.type)n();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||e,u=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=i,o.parentNode.removeChild(o),r(u)}};return o.onerror=o.onload=a,o.href=e,document.head.appendChild(o),o},e=function(t,e){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===t||a===e))return o}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){o=s[r],a=o.getAttribute("data-href");if(a===t||a===e)return o}},r=function(r){return new Promise((function(o,a){var s=n.miniCssF(r),i=n.p+s;if(e(s,i))return o();t(r,i,o,a)}))},o={143:0};n.f.miniCss=function(t,e){var n={443:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=r(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,r){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=t[e]=[n,r]}));r.push(o[2]=a);var s=n.p+n.u(e),i=new Error,u=function(r){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}};n.l(s,u,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,s=r[0],i=r[1],u=r[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(u)var c=u(n)}for(e&&e(r);l<s.length;l++)a=s[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},r=self["webpackChunkcar_dealership_frontend"]=self["webpackChunkcar_dealership_frontend"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8226)}));r=n.O(r)})();
//# sourceMappingURL=app.4a1f169f.js.map